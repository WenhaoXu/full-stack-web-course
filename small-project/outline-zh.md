# MEAN课程小项目 - AMC（订餐系统）需求说明

## 1. 引言

### 1.1. 目的
为了让同学们巩固MEAN stack知识点，增强动手能力，所以在授课结束后安排一个以小组为单位完成的小项目。请同学们根据下述需求完成设计-编程工作。

### 1.2. 项目综述
需求与Java课程的AMC订餐系统类似，以MEAN作为技术栈，实现包含管理员、商家、顾客3种角色的C2C订餐系统。具体功能会在下面罗列。

### 1.3. 功能结构
//TODO

## 2. A(Admin)
### 2.1. 审核商家注册申请
每一个新注册的商家都需要填写商家信息，提交之后系统会提示管理员对新的商家注册申请进行审核，管理员需要检查商家填写的信息。审核动作和审核状态有如下几种：

| 管理员动作 | 审核状态变成 | 商家状态 |描述  |
| ------------ | ------------ | ------------ | ------------ |
| N/A | 有待审核 | 未激活 |商家刚刚提交注册申请后，审核的初始状态，表示还没有管理员处理过这条审核 |
| 通过 | 审核通过 | 正常 | 管理员批准商家的注册申请，审核流程结束，商家状态变成正常 |
| 驳回 | 驳回请求 | 未激活 | 管理员不批准商家的注册申请，系统需要提示商家修改信息，商家修改信息并提交后，审核的状态变成**有待审核**，管理员可以再次对其审核 |

//TODO 状态转移图
//TODO 商家状态见下文

### 2.2. 改变商家的状态
管理员可以随时改变**已经通过注册审核的**商家的状态，操作有如下几种：

| 管理员动作 | 商家状态变成 |描述  |
| ------------ | ------------ | ------------ |
| 拉黑 | 拉黑 | 被拉黑的商家与其商品无法被搜索到，商家除了登录系统和查看商家信息外不能做任何其它动作 |
| 拉白 | 正常 | 商家正常状态 |

### 2.3. 处理投诉
管理员可以查看顾客发过来的投诉

### 2.4. 广告位管理
管理员审核商家发来的申请，同一时间点有最多允许六个推荐菜品广告，当菜品广告不足六个时，请通过某些逻辑（你自己定）挑选一些菜品出来补齐六个广告

### 2.5. 管理员账号的初始化
系统允许存在一个或多个管理员

## 3. M(Merchant)
### 3.1. 商家注册
商家注册时需要填写以下信息，提交后系统向管理员发送注册审核请求，等待管理员处理

| 属性 | 描述 |
| ------------ | ------------ |
| 登录id | 英文、数字、下划线的组合 |
| 登录密码 | 英文、数字、下划线的组合 |
| 商家名称 | 不多于30个字符 |
| 商家地址 |  |
| 商家头像 | 图片 |
| 身份证图片| 图片 |

### 3.2. 商家登录
检查登录id与登录密码是否匹配，并根据商家状态确定登录后的操作权限：

| 商家状态 | 操作权限 |
| ------------ | ------------ |
| 拉黑 | 登录后除了查看自己的信息外不可以进行任何其它操作 |
| 未激活 | 可以修改注册申请信息 |
| 正常 | 可以使用任何功能 |

//TODO 商家状态见下文

### 3.3. 商家登出
你懂的

### 3.4. 添加/删除/修改/查看菜品
增加，删除，修改，查看商家自己的菜单。每一个菜品应包括以下属性：

| 属性 | 描述 |
| ------------ | ------------ |
| 菜品名称 | 不多于30个字符 |
| 菜品价格 |  |
| 菜品种类 |  |
| 菜品图片 |   |

### 3.5. 处理订单
当用户下单之后，商家接到订单信息，可以自行选择如下操作：

| 商家动作 | 订单状态变成 |描述  |
| ------------ | ------------ | ------------ |
| 商家拒接 | 商家拒接 | 订单取消 |
| 商家接单 | 商家接单 | 商家接受订单并开始准备菜品 |
| 开始配送 | 正在配送 | 商家开始配送菜品 |

//TODO 订单状态见下文

### 3.6. 菜品广告位申请
商家菜品管理中，添加推荐菜品功能，商家向管理员提交申请，并等待审核结果。申请通过后菜品会被推荐到首页的滚动广告中。

